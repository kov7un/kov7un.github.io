! function(h) {
    "use strict";
    var t = h(window),
        o = h("body"),
        l = window.minimog.Helpers;

    function d(t, a, i, e, n) {
        n = n.parents(".row-isw-swatch").first();
        (n.hasClass("row-isw-swatch--isw_color") || n.hasClass("row-isw-swatch--isw_image")) && n.find(".selected-term-name").html(e)
    }

    function s(t, a) {
        var i = t.find(".product-container"),
            e = i.find(".woo-single-info"),
            n = i.find(".woo-single-images"),
            r = i.data("quick-view"),
            o = 2 * r.spacing,
            d = n.children(".woo-single-gallery"),
            s = {},
            d = (d.hasClass("has-thumbs-slider") && (s = {
                thumbs: {
                    swiper: d.children(".minimog-thumbs-swiper").MinimogSwiper()
                }
            }), d.children(".minimog-main-swiper")),
            u = null,
            d = (0 < d.length && (u = d.MinimogSwiper(s)), n.height()),
            s = d,
            n = d,
            c = window.innerHeight - 60,
            d = (r.imageCover ? (e = i.find(".quick-view-col-summary .inner-content"), s = d + o, n = Math.min(c, s), 0 < r.spacing ? n -= o : n -= 60) : (s = d + o, n = Math.min(c, s), n -= o), e.outerHeight(parseInt(n)), h.fn.perfectScrollbar && !l.isHandheld() && e.perfectScrollbar({
                suppressScrollX: !0
            }), r.imageCover && i.find(".woo-single-images").addClass("image-cover"), t.find(".cart.variations_form")),
            f = (0 < d.length && "undefined" != typeof wc_add_to_cart_variation_params && (d.wc_variation_form(), "undefined" != typeof isw && void 0 !== isw.Swatches && isw.Swatches.register(d)), t.find(".variations_form")),
            m = f.data("product_variations"),
            c = f.find(".row-isw-swatch-quantity-wrap");
        f.find('select[name="quantity"]').MinimogNiceSelect({
            renderTarget: c
        }), f.on("found_variation", function(t, a) {
            var i = f.find(".product-stock-availability");
            a.availability_html ? l.wooSetContentHTML(i, a.availability_html) : l.wooResetContentHTML(i)
        }), f.on("reset_data", function(t) {
            var a = f.find(".product-stock-availability");
            l.wooResetContentHTML(a)
        }), u && f.find("select").on("change", function() {
            for (var t = !0, a = !1, i = {}, e = f.serializeArray(), n = 0; n < e.length; n++) {
                var r = e[n].name;
                if ("attribute_" === r.substring(0, 10) && (i[r] = e[n].value, "" === e[n].value)) {
                    t = !1;
                    break
                }
            }
            if (!0 === t) {
                for (var o = Object.entries(i), d = 0, s = 0, n = m.length - 1; 0 <= n; n--) {
                    var c = m[n],
                        l = Object.entries(c.attributes),
                        p = 0;
                    l.forEach(([i, e]) => {
                        o.forEach(([t, a]) => {
                            t !== i || a !== e && "" !== e || p++
                        })
                    }), s < p && (s = p, d = c.image_id)
                }
                d ? u.$wrapperEl.find(".swiper-slide").each(function(t) {
                    var a = h(this).attr("data-image-id");
                    if (parseInt(a) === d) return u.slideTo(t), !1
                }) : a = !0
            } else a = !0;
            a && (a = u.$wrapperEl.find(".product-main-image").index(), u.slideTo(a))
        }), t.MinimogModal({
            perfectScrollbar: !1
        }).MinimogModal("open"), a.removeClass("loading")
    }
    h(document).ready(function() {
        h(".minimog-product").on("click", ".quick-view-btn", function(t) {
                t.preventDefault(), t.stopPropagation();
                var a, i = h(this);
                i.hasClass("loading") || h.fn.MinimogModal && (i.addClass("loading"), t = i.data("pid"), 0 < (a = o.children("#modal-quick-view-product-" + t)).length ? s(a, i) : h.ajax({
                    url: $minimog.ajaxurl,
                    type: "GET",
                    data: h.param({
                        action: "product_quick_view",
                        pid: t
                    }),
                    dataType: "json",
                    cache: !0,
                    success: function(t) {
                        a = h(t.template), o.append(a), s(a, i)
                    }
                }))
            }),
            function() {
                if ("undefined" == typeof wc_add_to_cart_params) return;
                h(document).on("click", ".ajax_add_variation_to_cart", function(t) {
                    t.preventDefault(), t.stopPropagation();
                    var a = h(this),
                        t = a.data("quantity"),
                        i = 0,
                        e = {},
                        n = a.siblings('select[name="product_variation_id"]');
                    if (0 < n.length) {
                        n = n.children(":selected"), i = n.data("variation-id"), e = n.val();
                        e = JSON.parse(e)
                    } else {
                        n = a.parents(".product").first().find(".variations_form");
                        if (0 < n.length) {
                            var r = !0;
                            if (n.find("select[name^=attribute]").each(function() {
                                    var t = h(this),
                                        a = t.attr("name"),
                                        t = t.val();
                                    0 === t.length ? r = !1 : e[a] = t
                                }), !r) return window.alert("Please select a product option before adding this product to your cart."), !1;
                            i = n.find(".variation_id").val()
                        }
                    }
                    return i && e ? (a.removeClass("added").addClass("loading updating-icon"), e.action = "minimog_woocommerce_add_to_cart", e.quantity = t, e.product_id = i, h("body").trigger("adding_to_cart", [a, e]), h.post(wc_add_to_cart_params.ajax_url, e, function(t) {
                        t && (t.error && t.product_url ? window.location = t.product_url : "yes" === wc_add_to_cart_params.cart_redirect_after_add ? window.location = wc_add_to_cart_params.cart_url : h(document.body).trigger("added_to_cart", [t.fragments, t.cart_hash, a]))
                    }).always(function() {
                        a.addClass("added").removeClass("loading updating-icon")
                    })) : window.alert("Please select a product option before adding this product to your cart."), !1
                })
            }(),
            function() {
                if ("undefined" == typeof wc_add_to_cart_params) return;
                h(document).on("click", "button.single_add_to_cart_button.ajax_add_to_cart", function(t) {
                    t.preventDefault();
                    var i = h(this);
                    if (i.hasClass("disabled")) return !1;
                    if (i.hasClass("woosb-disabled")) return !1;
                    var e, t = i.closest("form.cart"),
                        a = t.find("[name=add-to-cart]").val(),
                        n = t.find("input[name=variation_id]").val(),
                        r = t.find(".quantity .qty[name=quantity]").val();
                    0 !== (a = "add-to-cart" === i.attr("name") ? i.val() : a) && (e = {
                        action: "minimog_woocommerce_add_to_cart",
                        product_id: a,
                        variation_id: n
                    }, t.serializeArray().map(function(t) {
                        var a;
                        "add-to-cart" !== t.name && (t.name.endsWith("[]") ? ((a = t.name.substring(0, t.name.length - 2)) in e || (e[a] = []), e[a].push(t.value)) : e[t.name] = t.value)
                    }), i.attr("data-qty") && (r = parseInt(i.attr("data-qty"))), e.quantity = r, i.removeClass("added").addClass("loading updating-icon"), h("body").trigger("adding_to_cart", [i, e]), h.post(wc_add_to_cart_params.ajax_url, e, function(t) {
                        var a;
                        t && (t.error && t.product_url ? window.location = t.product_url : (a = i.data("redirect")) && "" !== a ? window.location = a : "yes" === wc_add_to_cart_params.cart_redirect_after_add ? window.location = wc_add_to_cart_params.cart_url : h(document.body).trigger("added_to_cart", [t.fragments, t.cart_hash, i]))
                    }).always(function() {
                        i.addClass("added").removeClass("loading updating-icon")
                    }))
                })
            }(), h(document.body).on("click", ".term-link", function(t) {
                t.preventDefault();
                t = h(this);
                if (!t.hasClass("selected")) {
                    var a = t.parents(".loop-product-variation-selector").first();
                    if (!(a.length <= 0)) {
                        var i = a.closest(".product"),
                            e = a.data("product_attribute"),
                            n = a.data("product_variations"),
                            a = a.data("product_variations_images"),
                            r = !1,
                            o = (t.siblings().removeClass("selected"), t.addClass("selected"), t.data("term")),
                            t = i.find("select[name=" + e + "]");
                        0 < t.length && t.val(o).trigger("change");
                        for (var d = n.length - 1; 0 <= d; d--) {
                            var s = n[d];
                            s.attributes && Object.entries(s.attributes).forEach(([t, a]) => {
                                e === t && a === o && (r = s)
                            })
                        }!1 !== r && (t = a[r.variation_id], i.find(".product-main-image img").attr("src", t), "" !== (a = r.price_html) && i.find(".price").replaceWith(a))
                    }
                }
            }), h(".loop-product-variation-selector").each(function() {
                h(this).find(".term-link").first().trigger("click")
            }), h(".widget_product_categories").each(function() {
                var t = h(this),
                    e = "opened",
                    t = (t.find(".cat-parent").each(function() {
                        var t = h(this),
                            a = h(this).children("a").clone(),
                            i = "All " + a.html(),
                            i = (a.html(i), h('<li class="cat-item cat-item-all"></li>'));
                        t.hasClass("current-cat") && (t.removeClass("current-cat"), t.addClass("current-cat-parent"), i.addClass("current-cat")), i.append(a), h(this).children(".children").prepend(i)
                    }), t.on("click", "a", function(t) {
                        var a = h(this),
                            i = a.parent("li"),
                            a = a.siblings(".children");
                        0 < a.length && (t.preventDefault(), t.stopPropagation(), i.hasClass(e) ? (i.removeClass(e), i.find("." + e).removeClass(e), a.stop().slideUp(250)) : (i.siblings("." + e).removeClass(e).children(".children").stop().slideUp(250), i.addClass(e), a.stop().slideDown(250)))
                    }), t.find(".current-cat-parent, .current-cat"));
                t.addClass(e), t.children(".children").stop().slideDown(250)
            });
        var a, i = h(".page-sidebar"),
            e = (h(document).on("click", ".btn-js-open-off-sidebar", function(t) {
                t.preventDefault();
                var t = h(this).data("sidebar-target"),
                    t = i.filter(".sidebar-" + t);
                0 < t.length && (o.addClass("off-sidebar-opened"), l.setBodyOverflow(), (t = t.find(".page-sidebar-content-wrap")).outerHeight(window.innerHeight), h.fn.perfectScrollbar && !l.isHandheld() && t.perfectScrollbar({
                    suppressScrollX: !0
                }))
            }), h(document).on("click", ".btn-close-off-sidebar", function(t) {
                t.preventDefault(), o.removeClass("off-sidebar-opened"), l.unsetBodyOverflow()
            }), i.on("click", function(t) {
                t.target === this && (o.removeClass("off-sidebar-opened"), l.unsetBodyOverflow())
            }), 991);

        function n() {
            window.innerWidth <= e ? i.addClass("sidebar-switching sidebar-off") : i.addClass("sidebar-switching").removeClass("sidebar-off"), setTimeout(function() {
                i.removeClass("sidebar-switching")
            }, 350)
        }
        o.hasClass("page-sidebar-off-mobile") && (a = window.innerWidth, n(), t.on("resize", function() {
            var t = !0;
            a !== window.innerWidth && (t = !(a <= e && window.innerWidth <= e || e < a && window.innerWidth > e) && t) && n(), a = window.innerWidth
        })), o.on("isw_selected", d), h(document.body).on("change", ".product-variation-select", function() {
            var t = h(this).parents(".minimog-variation-select-wrap").find(".variations_form"),
                a = h(this).val();
            if ("" !== a) {
                var i = JSON.parse(a);
                for (const e in i) t.find('select[name="' + e + '"]').val(i[e]).trigger("change")
            } else t.find(".reset_variations").trigger("click")
        }), h("body").on("change", 'input[name="payment_method"], #billing_country, #shipping_country, #shipping_state, #billing_state', function() {
            setTimeout(function() {
                h("body").trigger("update_checkout")
            }, 2e3)
        }), h(document.body).on("show_variation", ".variations_form", function(t, a) {
            var i = h(this),
                e = i.find('input[name="variation_id"]').val();
            e && (i.find(".wad-qty-pricing-table").hide(), i.find('.wad-qty-pricing-table[data-id="' + e + '"]').show())
        });
        var r = "store_notice" + (h(".woocommerce-store-notice").data("noticeId") || "");
        "hidden" === Cookies.get(r) ? h(".woocommerce-store-notice").hide() : h(".woocommerce-store-notice").show(), h(".woocommerce-store-notice__dismiss-link").on("click", function(t) {
            Cookies.set(r, "hidden", {
                path: "/"
            }), h(".woocommerce-store-notice").hide(), t.preventDefault()
        }), h(".woocommerce-input-wrapper span.description").length && h(document.body).on("click", function() {
            h(".woocommerce-input-wrapper span.description:visible").prop("aria-hidden", !0).slideUp(250)
        }), h(".woocommerce-input-wrapper").on("click", function(t) {
            t.stopPropagation()
        }), h(".woocommerce-input-wrapper :input").on("keydown", function(t) {
            var a = h(this).parent().find("span.description");
            if (27 === t.which && a.length && a.is(":visible")) return a.prop("aria-hidden", !0).slideUp(250), t.preventDefault(), !1
        }).on("click focus", function() {
            var t = h(this).parent(),
                a = t.find("span.description");
            t.addClass("currentTarget"), h(".woocommerce-input-wrapper:not(.currentTarget) span.description:visible").prop("aria-hidden", !0).slideUp(250), a.length && a.is(":hidden") && a.prop("aria-hidden", !1).slideDown(250), t.removeClass("currentTarget")
        })
    })
}(jQuery);
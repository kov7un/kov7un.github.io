data:text/javascript;base64,CgkJCWpRdWVyeSggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oICQgKSB7CgkJCQkndXNlIHN0cmljdCc7CgkJCQl2YXIgJGRlbW9QYW5lbCAgICAgICAgPSAkKCAnI3RtLWRlbW8tb3B0aW9ucy13cmFwcGVyJyApLAoJCQkJICAgICRkZW1vUGFuZWxDb250ZW50ID0gJGRlbW9QYW5lbC5jaGlsZHJlbiggJyN0bS1kZW1vLXBhbmVsJyApOwoJCQkJdmFyIEhlbHBlcnMgPSB3aW5kb3cubWluaW1vZy5IZWxwZXJzOwoKCQkJCWlmICggJC5mbi5wZXJmZWN0U2Nyb2xsYmFyICYmICEgSGVscGVycy5pc0hhbmRoZWxkKCkgKSB7CgkJCQkJJGRlbW9QYW5lbENvbnRlbnQucGVyZmVjdFNjcm9sbGJhcigpOwoJCQkJfQoKCQkJCSRkZW1vUGFuZWwub24oICdjbGljaycsICcjdG0tZGVtby1wYW5lbC1jbG9zZScsIGZ1bmN0aW9uKCBlICkgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoKCQkJCQljbG9zZURlbW9QYW5lbCgpOwoJCQkJfSApOwoKCQkJCSRkZW1vUGFuZWwub24oICdjbGljaycsICcudG9nZ2xlLXF1aWNrLW9wdGlvbnMnLCBmdW5jdGlvbiggZSApIHsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCgkJCQkJaWYgKCAnb3BlbicgPT09ICQoIHRoaXMgKS5kYXRhKCAnYWN0aW9uJyApICkgewoJCQkJCQlpZiAoICRkZW1vUGFuZWwuaGFzQ2xhc3MoICdsb2FkZWQnICkgKSB7CgkJCQkJCQlvcGVuRGVtb1BhbmVsKCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl2YXIgZGF0YSA9IHsKCQkJCQkJCQlhY3Rpb246ICdtaW5pbW9nX3RlbXBsYXRlX2xhenlsb2FkJywKCQkJCQkJCQl0ZW1wbGF0ZTogJGRlbW9QYW5lbC5kYXRhKCAnbWluaW1vZy10ZW1wbGF0ZScgKQoJCQkJCQkJfTsKCQkJCQkJCSQuYWpheCggewoJCQkJCQkJCXVybDogJG1pbmltb2cuYWpheHVybCwKCQkJCQkJCQl0eXBlOiAnR0VUJywKCQkJCQkJCQlkYXRhOiBkYXRhLAoJCQkJCQkJCWRhdGFUeXBlOiAnanNvbicsCgkJCQkJCQkJY2FjaGU6IHRydWUsCgkJCQkJCQkJc3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkgewoJCQkJCQkJCQlpZiAoIHJlc3BvbnNlLnN1Y2Nlc3MgKSB7CgkJCQkJCQkJCQkkZGVtb1BhbmVsLmNoaWxkcmVuKCAnI3RtLWRlbW8tcGFuZWwnICkuaHRtbCggcmVzcG9uc2UuZGF0YS50ZW1wbGF0ZSApOwoJCQkJCQkJCQkJJGRlbW9QYW5lbC5hZGRDbGFzcyggJ2xvYWRlZCcgKTsKCQkJCQkJCQkJCW9wZW5EZW1vUGFuZWwoKTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgkJCQkJCQkJYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCUhlbHBlcnMuc2V0Qm9keUhhbmRsaW5nKCk7CgkJCQkJCQkJfSwKCQkJCQkJCQljb21wbGV0ZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJCUhlbHBlcnMuc2V0Qm9keUNvbXBsZXRlZCgpOwoJCQkJCQkJCX0sCgkJCQkJCQl9ICk7CgkJCQkJCX0KCQkJCQl9IGVsc2UgewoJCQkJCQljbG9zZURlbW9QYW5lbCgpOwoJCQkJCX0KCQkJCX0gKTsKCgkJCQkkZGVtb1BhbmVsLm9uKCAnY2hhbmdlJywgJyNkZW1vLW9wdGlvbi1maWx0ZXInLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZmlsdGVyVmFsID0gJCggdGhpcyApLnZhbCgpOwoKCQkJCQlpZiAoICcnID09PSBmaWx0ZXJWYWwgKSB7CgkJCQkJCSRkZW1vUGFuZWwuZmluZCggJy5xdWljay1vcHRpb24tbGlzdCcgKS5jaGlsZHJlbiggJ2EnICkuc2hvdygpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSRkZW1vUGFuZWwuZmluZCggJy5xdWljay1vcHRpb24tbGlzdCcgKS5jaGlsZHJlbiggJ2EnICkuaGlkZSgpLmZpbHRlciggJy5jYXQtJyArIGZpbHRlclZhbCApLnNob3coKTsKCQkJCQl9CgkJCQl9ICk7CgoJCQkJZnVuY3Rpb24gb3BlbkRlbW9QYW5lbCgpIHsKCQkJCQlIZWxwZXJzLnNldEJvZHlPdmVyZmxvdygpOwoJCQkJCSRkZW1vUGFuZWwuYWRkQ2xhc3MoICdvcGVuJyApOwoJCQkJfQoKCQkJCWZ1bmN0aW9uIGNsb3NlRGVtb1BhbmVsKCkgewoJCQkJCUhlbHBlcnMudW5zZXRCb2R5T3ZlcmZsb3coKTsKCQkJCQkkZGVtb1BhbmVsLnJlbW92ZUNsYXNzKCAnb3BlbicgKTsKCQkJCX0KCQkJfSApOwoJCQ==